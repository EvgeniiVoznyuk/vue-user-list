(function(e){function t(t){for(var a,l,o=t[0],i=t[1],c=t[2],d=0,p=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,o=1;o<s.length;o++){var i=s[o];0!==r[i]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=s[0]))}return e}var a={},r={app:0},n=[];function l(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=e,l.c=a,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(s,a,function(t){return e[t]}.bind(null,a));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=i;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"15bc":function(e,t,s){"use strict";s("4223")},"28fb":function(e,t,s){},4223:function(e,t,s){},"43bf":function(e,t,s){"use strict";s("a437")},"4d1f":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("e1ae"),s("4121"),s("098b"),s("bddf");var a=s("6549"),r=s.n(a),n=(s("99af"),s("b0c0"),s("0c6e")),l=s("359c"),o=s.n(l),i=function(){Object(n["c"])({models:{user:n["b"]},factories:{user:n["a"].extend({uuid:o.a.random.uuid(),role:o.a.random.arrayElement(["user","admin","modeler"]),active:!0})},seeds:function(e){for(var t=0;t<100;t+=1){var s=o.a.name.firstName(),a=o.a.name.lastName(),r=o.a.internet.userName(s,a),n=o.a.internet.email(s,a);e.create("user",{name:"".concat(s," ").concat(a),userName:r,email:n})}},routes:function(){this.get("/api/users",(function(e){return e.users.all()}))}})},c=s("2b0e"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},d=[],p=(s("5c0b"),s("2877")),m={},f=Object(p["a"])(m,u,d,!1,null,null,null),h=f.exports,b=s("9483");Object(b["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var v=s("8c4f"),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[s("AppHeader"),s("div",{staticClass:"container"},[s("Toolbar",{on:{"add-user":e.addUser,"set-query":e.setQuery}}),s("Table",{attrs:{users:e.filtredUsers()},on:{"delete-users":e.deleteUsers}})],1)],1)},_=[],g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",[s("the-navbar")],1)},U=[],C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Toolbar",[s("template",{slot:"left"},[s("h1",{staticClass:"logo"},[e._v("Client-Logo")])]),s("template",{slot:"right"},[s("i",{staticClass:"pi pi-user",attrs:{id:"user-icon",label:"Toggle","aria-hidden":"true"},on:{click:e.toggle}}),s("OverlayPanel",{ref:"navbar-dropdown",attrs:{id:"user-dropdown"}},[s("p",{staticClass:"dropdown-text"},[s("i",{staticClass:"pi pi-user",attrs:{"aria-hidden":"true"}}),s("span",[e._v("ozona")])])])],1)],2)},w=[],x=s("c1c9"),k=s.n(x),N=s("0f4f"),O=s.n(N),A={components:{Toolbar:k.a,OverlayPanel:O.a},methods:{toggle:function(e){this.$refs["navbar-dropdown"].toggle(e)}}},j=A,T=(s("15bc"),Object(p["a"])(j,C,w,!1,null,"4d3edc8e",null)),M=T.exports,$={name:"AppHeader",components:{TheNavbar:M}},S=$,Q=Object(p["a"])(S,g,U,!1,null,null,null),E=Q.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Toolbar",{staticClass:"p-mb-4 p-mt-4 toolbar"},[s("template",{slot:"left"},[s("AddUser",{on:{"add-user":e.addUser}})],1),s("template",{slot:"right"},[s("SearchBar",{on:{"set-query":e.setQuery}})],1)],2)},D=[],B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add-user"},[s("SplitButton",{staticClass:"p-mr-2",attrs:{label:"Add User",icon:"pi pi-plus"},on:{click:e.toggleModal},model:{value:e.button,callback:function(t){e.button=t},expression:"button"}}),s("Dialog",{style:{width:"40vw"},attrs:{showHeader:!1,visible:e.displayModal,modal:!0}},[s("div",{staticClass:"modal"},[s("div",{staticClass:"modal__header p-mb-4"},[s("h1",{staticClass:"modal__title"},[e._v("New User")]),s("Button",{staticClass:"modal__close-button",attrs:{icon:"pi pi-times"},on:{click:e.toggleModal}})],1),s("div",{staticClass:"modal__body p-m-2"},[s("form",{staticClass:"modal__form p-mb-4",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[s("span",{staticClass:"modal__span"},[s("label",{attrs:{for:"name"}},[e._v("Name")]),s("InputText",{staticClass:"modal__input",class:{"p-invalid":""===e.user.name},attrs:{id:"name",type:"text"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),""===e.user.name?s("small",{staticClass:"p-invalid",attrs:{id:"name"}},[e._v(" Name is required ")]):e._e()],1),s("span",{staticClass:"modal__span"},[s("label",{attrs:{for:"userName"}},[e._v("User Name")]),s("InputText",{staticClass:"modal__input",class:{"p-invalid":""===e.user.userName},attrs:{id:"userName",type:"text"},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}}),""===e.user.userName?s("small",{staticClass:"p-invalid",attrs:{id:"name"}},[e._v(" Username is required. ")]):e._e()],1),s("span",{staticClass:"modal__span"},[s("label",{attrs:{for:"email"}},[e._v("Email")]),s("InputText",{staticClass:"modal__input",class:{"p-invalid":""===e.user.email},attrs:{id:"email",type:"text"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),""===e.user.email?s("small",{staticClass:"p-invalid",attrs:{id:"name"}},[e._v(" Username is required. ")]):e._e()],1),s("div",{staticClass:"modal__span"},[s("label",{attrs:{for:"email"}},[e._v("Role(s)")]),s("Dropdown",{staticClass:"modal__input drop",attrs:{options:e.roles,optionLabel:"name",placeholder:"Admin"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1),s("div",{staticClass:"modal__buttons p-mt-4"},[s("button",{staticClass:"modal__button modal__button--cancel",attrs:{type:"button"},on:{click:e.toggleModal}},[e._v(" Cancel ")]),s("button",{staticClass:"modal__button modal__button--create",attrs:{type:"submit"}},[e._v(" Create User ")])])])])])])],1)},q=[],L=(s("4160"),s("caad"),s("4fad"),s("07ac"),s("2532"),s("159b"),s("1f18")),I=s.n(L),H=s("7aec"),R=s.n(H),z=s("a84a"),F=s.n(z),J=s("404c"),K=s.n(J),G={name:"AddUser",components:{SplitButton:I.a,Dialog:R.a,InputText:F.a,Dropdown:K.a},data:function(){return{button:null,displayModal:!1,user:{name:null,userName:null,email:null,role:"Admin"},roles:[{name:"Admin"},{name:"User"},{name:"Modeler"},{name:"Master"}]}},methods:{toggleModal:function(){this.displayModal=!this.displayModal},onSubmit:function(){var e=this;Object.values(this.user).includes(null)?Object.entries(this.user).forEach((function(t){null===t[1]&&(e.user[t[0]]="")})):(this.$emit("add-user",this.user),this.user={name:null,userName:null,email:null,role:"Admin"},this.toggleModal())}}},V=G,W=(s("43bf"),Object(p["a"])(V,B,q,!1,null,"77bd3fa8",null)),X=W.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"p-input-icon-left"},[s("i",{staticClass:"pi pi-search"}),s("InputText",{attrs:{type:"text",placeholder:"Search"},on:{change:e.setQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)},Z=[],ee={name:"SearchBar",components:{InputText:F.a},data:function(){return{searchQuery:""}},methods:{setQuery:function(){this.$emit("set-query",this.searchQuery)}}},te=ee,se=Object(p["a"])(te,Y,Z,!1,null,null,null),ae=se.exports,re={name:"Tool",components:{Toolbar:k.a,AddUser:X,SearchBar:ae},data:function(){return{button:null,displayModal:!1}},methods:{addUser:function(e){this.$emit("add-user",e)},setQuery:function(e){this.$emit("set-query",e)}}},ne=re,le=(s("eafe"),Object(p["a"])(ne,P,D,!1,null,"7891297e",null)),oe=le.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("DataTable",{attrs:{value:e.users,paginator:!0,rows:10,dataKey:"id",rowsPerPageOptions:[10,20,50,100],resizableColumns:!0,columnResizeMode:"expand"}},[s("Column",{attrs:{headerStyle:"width: 3em"},scopedSlots:e._u([{key:"header",fn:function(){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers,expression:"selectedUsers"}],attrs:{type:"checkbox"},domProps:{value:"allUsers",checked:Array.isArray(e.selectedUsers)?e._i(e.selectedUsers,"allUsers")>-1:e.selectedUsers},on:{click:e.selectAllUsers,change:function(t){var s=e.selectedUsers,a=t.target,r=!!a.checked;if(Array.isArray(s)){var n="allUsers",l=e._i(s,n);a.checked?l<0&&(e.selectedUsers=s.concat([n])):l>-1&&(e.selectedUsers=s.slice(0,l).concat(s.slice(l+1)))}else e.selectedUsers=r}}})]},proxy:!0},{key:"body",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers,expression:"selectedUsers"}],attrs:{type:"checkbox"},domProps:{value:t.data.id,checked:Array.isArray(e.selectedUsers)?e._i(e.selectedUsers,t.data.id)>-1:e.selectedUsers},on:{change:function(s){var a=e.selectedUsers,r=s.target,n=!!r.checked;if(Array.isArray(a)){var l=t.data.id,o=e._i(a,l);r.checked?o<0&&(e.selectedUsers=a.concat([l])):o>-1&&(e.selectedUsers=a.slice(0,o).concat(a.slice(o+1)))}else e.selectedUsers=n}}})]}}])}),e._l(e.columns,(function(t){return s("Column",{key:t.field,attrs:{field:t.field,header:t.header},scopedSlots:e._u([{key:"body",fn:function(a){return[s("p",{on:{contextmenu:[function(t){return t.preventDefault(),e.contextMenu(t)},function(t){return e.selectUser(a.data.id)}]}},[e._v(" "+e._s(a.data[t.field])+" ")])]}}],null,!0)})})),s("Column",{attrs:{headerStyle:"width: 8rem; text-align: center",bodyStyle:"text-align: center; overflow: visible"},scopedSlots:e._u([{key:"body",fn:function(){return[s("Button",{staticClass:"p-button-secondary",attrs:{type:"button",icon:"pi pi-pencil"}})]},proxy:!0}])})],2),s("ContextMenu",{ref:"menu",attrs:{model:e.items}})],1)},ce=[],ue=s("23a5"),de=s.n(ue),pe=s("c524"),me=s.n(pe),fe=s("5b93"),he=s.n(fe),be=c["a"].extend({name:"Table",props:["users"],components:{DataTable:de.a,Column:me.a,ContextMenu:he.a},data(){return{selectedUsers:[],columns:[{field:"name",header:"Name"},{field:"userName",header:"UserName"},{field:"email",header:"Email"},{field:"role",header:"Role(s)"}],items:[{label:"Reset password",icon:"pi pi-fw pi-refresh"},{label:"Disable selected users",icon:"pi pi-fw pi-eye-slash"},{label:"Delete selected users",icon:"pi pi-fw pi-trash",command:this.deleteUsers}]}},methods:{selectAllUsers(){this.selectedUsers.includes("allUsers")?this.selectedUsers=[]:this.selectedUsers=this.users.map(e=>e.id)},contextMenu(e){this.$refs.menu.show(e)},selectUser(e){this.selectedUsers.push(e)},deleteUsers(){this.$emit("delete-users",this.selectedUsers)}}}),ve=be,ye=Object(p["a"])(ve,ie,ce,!1,null,null,null),_e=ye.exports,ge=c["a"].extend({name:"Users",components:{Table:_e,AppHeader:E,Toolbar:oe},created(){fetch("/api/users").then(e=>e.json()).then(e=>{this.users=e.users}),this.$emit("show-users")},data(){return{users:[],searchQuery:""}},methods:{addUser(e){const t={...e,role:e.role.name,id:this.users.length+1};this.users.unshift(t)},setQuery(e){this.searchQuery=e},filtredUsers(){return this.users.filter(({name:e,userName:t,email:s})=>e.toLowerCase().includes(this.searchQuery.toLowerCase())||t.toLowerCase().includes(this.searchQuery.toLowerCase())||s.toLowerCase().includes(this.searchQuery.toLowerCase()))},deleteUsers(e){this.users=this.users.filter(t=>!e.includes(t.id))}}}),Ue=ge,Ce=(s("897f"),Object(p["a"])(Ue,y,_,!1,null,"8a1c3ee0",null)),we=Ce.exports;c["a"].use(v["a"]);var xe=[{path:"/",name:"Home",component:we}],ke=new v["a"]({mode:"history",base:"/",routes:xe}),Ne=ke;c["a"].config.productionTip=!1,c["a"].component("Button",r.a),i(),new c["a"]({router:Ne,render:function(e){return e(h)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";s("9c0c")},"897f":function(e,t,s){"use strict";s("4d1f")},"9c0c":function(e,t,s){},a437:function(e,t,s){},eafe:function(e,t,s){"use strict";s("28fb")}});
//# sourceMappingURL=app.5719cd3a.js.map